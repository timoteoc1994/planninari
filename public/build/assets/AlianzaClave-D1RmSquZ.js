import{d as g,x as M,k as N,c as E,o as i,w as f,a as e,e as l,f as p,F as j,h as B,t as d,j as D,l as v,n as h,u as s,p as _,Q as S}from"./app-CMmN75Yt.js";import{_ as V}from"./AppLayout-CYw2QiOb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"py-12"},$={class:"max-w-6xl mx-auto sm:px-6 lg:px-8 bg-white p-8 rounded shadow"},F={class:"overflow-x-auto"},G={class:"min-w-full bg-white border border-gray-200"},L={class:"bg-white divide-y divide-gray-200"},Q={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},U={class:"px-6 py-4 text-sm text-gray-500"},T={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},H=["onClick"],I=["onClick"],J={key:0},K={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},O={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},P={class:"mt-3"},R={class:"flex justify-between items-center mb-4"},W={class:"text-lg font-medium text-gray-900"},X={class:"mb-4"},Y={key:0,class:"text-red-500 text-sm mt-1"},Z={class:"mb-6"},ee={key:0,class:"text-red-500 text-sm mt-1"},te={class:"flex justify-end space-x-3"},oe=["disabled"],ae={__name:"AlianzaClave",props:{alianzasclave:Array,proyecto_id:Number},setup(m){const x=m,c=g(!1),n=g(null),t=M({nombrealiado:"",descripcion:"",proyecto_id:x.proyecto_id}),b=N(()=>!!n.value);function w(){c.value=!0,n.value=null,t.reset(),t.proyecto_id=x.proyecto_id}function k(a){c.value=!0,n.value=a,t.nombrealiado=a.nombrealiado,t.descripcion=a.descripcion,t.proyecto_id=x.proyecto_id}function u(){c.value=!1,n.value=null,t.reset()}function C(){b.value?t.post(route("alianzasclave.update",n.value.id),{onSuccess:()=>u()}):t.post(route("alianzasclave.store"),{onSuccess:()=>u()})}function A(a){confirm("¿Estás seguro de que deseas eliminar este aliado?")&&S.delete(route("alianzasclave.destroy",a))}return(a,o)=>(i(),E(V,{title:"Alianzas Clave"},{header:f(()=>o[2]||(o[2]=[e("div",{class:"flex justify-between items-center"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Alianzas Clave ")],-1)])),default:f(()=>{var y;return[e("div",q,[e("div",$,[e("div",{class:"mb-6"},[e("button",{onClick:w,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Nuevo Aliado ")]),e("div",F,[e("table",G,[o[4]||(o[4]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nombre del Aliado "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Descripción "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acciones ")])],-1)),e("tbody",L,[(i(!0),l(j,null,B(m.alianzasclave,r=>(i(),l("tr",{key:r.id},[e("td",Q,d(r.nombrealiado),1),e("td",U,d(r.descripcion),1),e("td",T,[e("button",{onClick:z=>k(r),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Editar ",8,H),e("button",{onClick:z=>A(r.id),class:"text-red-600 hover:text-red-900"}," Eliminar ",8,I)])]))),128)),(y=m.alianzasclave)!=null&&y.length?p("",!0):(i(),l("tr",J,o[3]||(o[3]=[e("td",{colspan:"3",class:"px-6 py-4 text-center text-gray-500"}," No hay aliados registrados ",-1)])))])])])])]),c.value?(i(),l("div",K,[e("div",O,[e("div",P,[e("div",R,[e("h3",W,d(b.value?"Editar Aliado":"Nuevo Aliado"),1),e("button",{onClick:u,class:"text-gray-400 hover:text-gray-600"},o[5]||(o[5]=[e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:D(C,["prevent"])},[e("div",X,[o[6]||(o[6]=e("label",{for:"nombrealiado",class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre del Aliado ",-1)),v(e("input",{id:"nombrealiado","onUpdate:modelValue":o[0]||(o[0]=r=>s(t).nombrealiado=r),type:"text",required:"",class:h(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":s(t).errors.nombrealiado}])},null,2),[[_,s(t).nombrealiado]]),s(t).errors.nombrealiado?(i(),l("div",Y,d(s(t).errors.nombrealiado),1)):p("",!0)]),e("div",Z,[o[7]||(o[7]=e("label",{for:"descripcion",class:"block text-sm font-medium text-gray-700 mb-2"}," Descripción ",-1)),v(e("textarea",{id:"descripcion","onUpdate:modelValue":o[1]||(o[1]=r=>s(t).descripcion=r),rows:"4",required:"",class:h(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":s(t).errors.descripcion}])},null,2),[[_,s(t).descripcion]]),s(t).errors.descripcion?(i(),l("div",ee,d(s(t).errors.descripcion),1)):p("",!0)]),e("div",te,[e("button",{type:"button",onClick:u,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400"}," Cancelar "),e("button",{type:"submit",disabled:s(t).processing,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50"},d(s(t).processing?"Guardando...":b.value?"Actualizar":"Guardar"),9,oe)])],32)])])])):p("",!0)]}),_:1}))}};export{ae as default};
