import{_ as $}from"./AppLayout-Da1CQfCP.js";import{x as I,s as N,e as f,f as U,o as m,a as e,t as a,j as _,l as o,p as s,u as i,q as v,F as w,h as V,d as g,c as C,w as S,b as k,Q as E}from"./app-dG6Nd7Y9.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={key:0,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},B={class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-4xl"},q={class:"text-lg font-bold mb-4"},D=["value"],j=["value"],P={class:"md:col-span-2 flex justify-end gap-2 mt-4"},T={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded"},z={__name:"IntegranteModal",props:{show:Boolean,integrante:Object,proyectoId:Number,editMode:Boolean},emits:["close","saved"],setup(u,{emit:c}){const d=u,r=c,y=["Cédula","Pasaporte","RUC","Visa"],b=["Argentina","Bolivia","Brasil","Chile","Colombia","Ecuador","Guyana","Paraguay","Perú","Surinam","Uruguay","Venezuela"],n=I({nombre:"",apellido:"",nacionalidad:"",pais_residencia:"",ciudad_residencia:"",sector:"",tipo_identificacion:"",numero_identificacion:"",fecha_nacimiento:"",email:"",telefono:"",discapcidad:"",dispone_cuenta:""});N(()=>d.integrante,p=>{p&&n.defaults({...p}),n.reset()},{immediate:!0});const x=()=>{d.editMode?n.put(`/integrantes/${d.integrante.id}`,{onSuccess:()=>r("saved")}):n.post(`/proyectos/${d.proyectoId}/integrantes`,{onSuccess:()=>r("saved")})};return(p,t)=>u.show?(m(),f("div",A,[e("div",B,[e("h3",q,a(u.editMode?"Editar Integrante":"Nuevo Integrante"),1),e("form",{onSubmit:_(x,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[t[14]||(t[14]=e("label",null,"Nombre",-1)),o(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>i(n).nombre=l),type:"text",class:"input",required:""},null,512),[[s,i(n).nombre]])]),e("div",null,[t[15]||(t[15]=e("label",null,"Apellido",-1)),o(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>i(n).apellido=l),type:"text",class:"input",required:""},null,512),[[s,i(n).apellido]])]),e("div",null,[t[17]||(t[17]=e("label",null,"Tipo de Identificación",-1)),o(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>i(n).tipo_identificacion=l),class:"input",required:""},[t[16]||(t[16]=e("option",{value:""},"Seleccione",-1)),(m(),f(w,null,V(y,l=>e("option",{key:l,value:l},a(l),9,D)),64))],512),[[v,i(n).tipo_identificacion]])]),e("div",null,[t[18]||(t[18]=e("label",null,"Número de Identificación",-1)),o(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>i(n).numero_identificacion=l),type:"text",class:"input",required:""},null,512),[[s,i(n).numero_identificacion]])]),e("div",null,[t[19]||(t[19]=e("label",null,"Nacionalidad",-1)),o(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>i(n).nacionalidad=l),type:"text",class:"input"},null,512),[[s,i(n).nacionalidad]])]),e("div",null,[t[21]||(t[21]=e("label",null,"País de Residencia",-1)),o(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>i(n).pais_residencia=l),class:"input"},[t[20]||(t[20]=e("option",{value:""},"Seleccione",-1)),(m(),f(w,null,V(b,l=>e("option",{key:l,value:l},a(l),9,j)),64))],512),[[v,i(n).pais_residencia]])]),e("div",null,[t[22]||(t[22]=e("label",null,"Ciudad de Residencia",-1)),o(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>i(n).ciudad_residencia=l),type:"text",class:"input"},null,512),[[s,i(n).ciudad_residencia]])]),e("div",null,[t[23]||(t[23]=e("label",null,"Sector",-1)),o(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>i(n).sector=l),type:"text",class:"input"},null,512),[[s,i(n).sector]])]),e("div",null,[t[24]||(t[24]=e("label",null,"Fecha de Nacimiento",-1)),o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>i(n).fecha_nacimiento=l),type:"date",class:"input"},null,512),[[s,i(n).fecha_nacimiento]])]),e("div",null,[t[25]||(t[25]=e("label",null,"Email",-1)),o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>i(n).email=l),type:"email",class:"input"},null,512),[[s,i(n).email]])]),e("div",null,[t[26]||(t[26]=e("label",null,"Teléfono",-1)),o(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>i(n).telefono=l),type:"text",class:"input"},null,512),[[s,i(n).telefono]])]),e("div",null,[t[27]||(t[27]=e("label",null,"Discapacidad",-1)),o(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>i(n).discapcidad=l),type:"text",class:"input"},null,512),[[s,i(n).discapcidad]])]),e("div",null,[t[29]||(t[29]=e("label",null,"¿Dispone de cuenta?",-1)),o(e("select",{"onUpdate:modelValue":t[12]||(t[12]=l=>i(n).dispone_cuenta=l),class:"input"},t[28]||(t[28]=[e("option",{value:""},"Seleccione",-1),e("option",{value:"Si"},"Sí",-1),e("option",{value:"No"},"No",-1)]),512),[[v,i(n).dispone_cuenta]])]),e("div",P,[e("button",{type:"button",onClick:t[13]||(t[13]=l=>r("close")),class:"px-4 py-2 bg-gray-300 rounded"},"Cancelar"),e("button",T,a(u.editMode?"Actualizar":"Crear"),1)])],32)])])):U("",!0)}},F=M(z,[["__scopeId","data-v-c2a15de6"]]),R={class:"flex justify-between items-center"},Q=["href"],G={class:"py-12"},L={class:"max-w-4xl mx-auto sm:px-6 lg:px-8 bg-white p-8 rounded shadow"},O={class:"w-full table-auto mb-6"},H={class:"px-2 py-1"},J={class:"px-2 py-1"},K={class:"px-2 py-1"},W={class:"px-2 py-1"},X={class:"px-2 py-1"},Y={class:"px-2 py-1"},Z=["href"],h=["onClick"],ie={__name:"Etapa2",props:{etapa2:Array,proyecto_id:Number},setup(u){const c=u;document.querySelector('meta[name="csrf-token"]').getAttribute("content");const d=g(!1),r=g(!1),y=g(null),b=()=>{d.value=!1,y.value=null,r.value=!1},n=()=>{window.location.reload()},x=p=>{confirm("¿Eliminar?")&&E.delete(`/integrantes/${p}`,{onSuccess:()=>n()})};return(p,t)=>(m(),C($,{title:"Etapa 2"},{header:S(()=>[e("div",R,[t[0]||(t[0]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Etapa 2 - Integrantes ",-1)),e("a",{href:`/proyectos/${c.proyecto_id}/integrantes/create`,class:"bg-blue-600 text-white px-4 py-2 rounded"},"Nuevo Integrante",8,Q)])]),default:S(()=>[e("div",G,[e("div",L,[e("table",O,[t[1]||(t[1]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"px-2 py-1"},"Nombre"),e("th",{class:"px-2 py-1"},"Apellido"),e("th",{class:"px-2 py-1"},"Tipo ID"),e("th",{class:"px-2 py-1"},"N° ID"),e("th",{class:"px-2 py-1"},"Email"),e("th",{class:"px-2 py-1"},"Acciones")])],-1)),e("tbody",null,[(m(!0),f(w,null,V(c.etapa2,l=>(m(),f("tr",{key:l.id},[e("td",H,a(l.nombre),1),e("td",J,a(l.apellido),1),e("td",K,a(l.tipo_identificacion),1),e("td",W,a(l.numero_identificacion),1),e("td",X,a(l.email),1),e("td",Y,[e("a",{href:`/integrantes/${l.id}/edit`,class:"text-blue-600 mr-2"},"Editar",8,Z),e("button",{onClick:ee=>x(l.id),class:"text-red-600"},"Eliminar",8,h)])]))),128))])])])]),k(F,{show:d.value,integrante:y.value,"proyecto-id":c.proyecto_id,"edit-mode":r.value,onClose:b,onSaved:n},null,8,["show","integrante","proyecto-id","edit-mode"])]),_:1}))}};export{ie as default};
